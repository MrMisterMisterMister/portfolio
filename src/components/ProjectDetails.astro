---
import { Image } from "astro:assets";
const { project } = Astro.props;
---

<article class="project-details" data-project-id={project.id}>
    <header class="project-details-header">
        <h3 class="project-details-title">{project.title}</h3>
        <p class="project-details-category" aria-label="Project category">{project.category}</p>
    </header>

    {project.image && (
        <div class="project-details-image-container">
            <Image
                src={project.image}
                alt={`${project.title} project screenshot`}
                width={800}
                height={600}
                class="project-details-image"
            />
        </div>
    )}

    <section class="project-details-section" aria-labelledby={`description-${project.id}`}>
        <h4 id={`description-${project.id}`} class="project-details-section-title">Description</h4>
        <div class="project-details-description" set:html={project.longDescription}></div>
    </section>

    <section class="project-details-section" aria-labelledby={`technologies-${project.id}`}>
        <h4 id={`technologies-${project.id}`} class="project-details-section-title">Technologies Used</h4>
        <ul class="project-details-tech" role="list">
            {project.technologies.map((tech: { name: string }) => (
                <li>
                    <span class="badge badge-secondary">{tech.name}</span>
                </li>
            ))}
        </ul>
    </section>

    <footer class="project-details-actions">
        {project.githubLinks?.map((link: { url: string; name: string }) => (
            <a
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-outline"
                aria-label={`View ${link.name} on GitHub`}
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/>
                </svg>
                <span>{link.name}</span>
            </a>
        ))}

        {project.websiteLinks?.map((link: { url: string; name: string }) => (
            <a
                href={link.url}
                target="_blank"
                rel="noopener noreferrer"
                class="btn btn-primary"
                aria-label={`Visit ${link.name} website`}
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
                    <polyline points="15 3 21 3 21 9"/>
                    <line x1="10" x2="21" y1="14" y2="3"/>
                </svg>
                <span>{link.name}</span>
            </a>
        ))}
    </footer>
</article>
